function BingoBlower({el:e="world",width:t=500,height:n=500,wallWidth:o=60,ballSize:r=10,density:i=.004,friction:l=.02,frictionAir:s=.001,frictionStatic:a=.001,restitution:c=.7,windForce:d=9e-4,targetColour:u="LightGray",targetWidth:h=50,targetThickness:m=10,drawnBallHighlight:y="Black",drawnBallThickness:f=10,timeSeconds:v=5}={}){function M(e){return new Promise(t=>setTimeout(t,e))}function g(e,t){return Math.floor(Math.random()*(t-e+1))+e}function p(e,t){const n=(t.position.x-e.position.x)**2+(t.position.y-e.position.y)**2;return Math.sqrt(n)}function w(e){const t=["Red","Blue","Green","Yellow","Pink","Violet"];let n="";for(let o of t)e.endsWith(o)&&(n=o.toLowerCase()),"Gold"===e&&(n="yellow"),"Sienna"===e&&(n="brown");return n}Matter.use("matter-attractors"),this.addMouseControl=function(){Matter.World.add(x,T),_.element.addEventListener("touchmove",_.mousemove),_.element.addEventListener("touchstart",_.mousedown),_.element.addEventListener("touchend",_.mouseup),B.mouse=_},this.removeMouseControl=function(){_.element.removeEventListener("touchmove",_.mousemove),_.element.removeEventListener("touchstart",_.mousedown),_.element.removeEventListener("touchend",_.mouseup),Matter.World.remove(x,T)},this.addBalls=function(e,d=["Red","MediumBlue","Gold","LimeGreen","Sienna"]){try{e=JSON.parse(atob(e))}catch(e){}if(e.length>d.length)throw"You should specify more colours!";let u=[],h=[];for(let m=0;m<e.length;m++){const y=e[m],f=d[m];h.push([y,f,w(f)]);for(let e=0;e<y;e++)u.push(Matter.Bodies.circle(g(o+10,t-o-10),g(400,n-50),r,{density:i,friction:l,frictionAir:s,frictionStatic:a,restitution:c,render:{fillStyle:f}}))}Matter.World.add(x,u),this.balls=h,this._balls.push(...u)},this.stop=function(){const e=this._balls;for(let t=0;t<e.length;t++){e[t].isStatic=!0}},this.start=function(){const e=this._balls;for(let t=0;t<e.length;t++){let n=e[t];n.isStatic=!1,n.render.lineWidth=0}},this.reset=function(){V.render.visible=!1,this.start(this._balls)},this.countBodies=function(){const e=Matter.Composite.allBodies(x);console.log("The bodies are:",e)},this.drawBall=async function(){const e=1e3*v;V.render.visible=!0,await M(e),this.stop();const t=function(e){let t=[];for(let n=0;n<e.length;n++){let o=p(e[n],V);t.push(o)}return e[function(e){if(0===e.length)return-1;let t=e[0],n=0;for(let o=1;o<e.length;o++)e[o]<t&&(n=o,t=e[o]);return n}(t)]}(this._balls),n=t.render.fillStyle,o=w(n);return await M(e),t.render.strokeStyle=y,t.render.lineWidth=f,{colourRobot:n,colourHuman:o}},this._balls=[];const S=document.getElementById(e),b=Matter.Engine.create(),B=Matter.Render.create({canvas:S,engine:b,options:{width:t,height:n,wireframes:!1,background:"White"}}),L=Matter.Runner.create({isFixed:!0,delta:15});Matter.Runner.run(L,b),Matter.Render.run(B);const x=b.world,E=Matter.Bodies.rectangle(t/2,0,t,o,{render:{fillStyle:"LightGray"},isStatic:!0}),W=Matter.Bodies.rectangle(0,n/2,o,n,{render:{fillStyle:"LightGray"},isStatic:!0}),G=Matter.Bodies.rectangle(t,n/2,o,n,{render:{fillStyle:"LightGray"},isStatic:!0}),k=Matter.Bodies.polygon(t,n+200,3,t,{angle:.361799,render:{fillStyle:"LightGray"},isStatic:!0}),C=Matter.Bodies.polygon(0,n+200,3,-t,{angle:-.361799,render:{fillStyle:"LightGray"},isStatic:!0});Matter.World.add(x,[E,W,G,C,k]);const R=Matter.Bodies.circle(t/2,n,50,{isStatic:!0,render:{visible:!0,fillStyle:"LightGray"},plugin:{attractors:[function(e,t){const o=Math.abs(e.position.x-t.position.x),r=Math.abs(e.position.y)-Math.abs(t.position.y);return{x:0,y:-(o<100?1/(r/n)*d:0)}}]}});Matter.World.add(x,R);const _=Matter.Mouse.create(B.canvas);_.element.removeEventListener("mousewheel",_.mousewheel),_.element.removeEventListener("DOMMouseScroll",_.mousewheel),_.element.removeEventListener("touchmove",_.mousemove),_.element.removeEventListener("touchstart",_.mousedown),_.element.removeEventListener("touchend",_.mouseup);const T=Matter.MouseConstraint.create(b,{element:S,mouse:_,constraint:{stiffness:.1,render:{visible:!1}}}),V=function(){const e=t/2,o=n/2,r={render:{fillStyle:u}},i=Matter.Bodies.rectangle(e,o,h,m,r),l=Matter.Bodies.rectangle(e,o,m,h,r);return Matter.Body.create({parts:[i,l],isStatic:!0,render:{visible:!1},collisionFilter:{group:0,category:0}})}();Matter.World.add(x,V);Matter.Events.on(b,"beforeUpdate",()=>{this._balls.forEach(e=>{e.velocity.x>20&&Matter.Body.setVelocity(e,{x:20,y:e.velocity.y}),e.velocity.x<-20&&Matter.Body.setVelocity(e,{x:-20,y:e.velocity.y}),e.velocity.y>20&&Matter.Body.setVelocity(e,{x:e.velocity.x,y:20}),e.velocity.y<-20&&Matter.Body.setVelocity(e,{x:e.velocity.x,y:-20})})});const F=document.createElement("style");F.innerHTML="@keyframes reveal {\n    from {\n        filter: blur(100px);\n    }\n    to {\n        filter: blur(0px);\n    }\n}\n\n.blower{\n    animation-name: reveal;\n    animation-duration: 3s;\n    animation-fill-mode: forwards;\n}",document.head.appendChild(F)}